<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Function Fundamentals Examples - Level 3</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        h1, h2 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        .example {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .example h3 {
            color: #495057;
            margin-top: 0;
        }
        pre {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 10px 0;
        }
        .output {
            background: #e8f5e8;
            border: 2px solid #4caf50;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
        }
        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #2980b9;
        }
        .function-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .function-card {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
        }
        .function-card h4 {
            color: #2c3e50;
            margin-top: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Function Fundamentals Examples</h1>
        <p>This page demonstrates various types of functions in JavaScript, including function declarations, expressions, arrow functions, and more.</p>

        <div class="function-types">
            <div class="function-card">
                <h4>Function Declarations</h4>
                <p>Hoisted functions that can be called before declaration</p>
                <button onclick="demoFunctionDeclarations()">Run Example</button>
            </div>
            <div class="function-card">
                <h4>Function Expressions</h4>
                <p>Functions assigned to variables, not hoisted</p>
                <button onclick="demoFunctionExpressions()">Run Example</button>
            </div>
            <div class="function-card">
                <h4>Arrow Functions</h4>
                <p>Concise syntax with lexical this binding</p>
                <button onclick="demoArrowFunctions()">Run Example</button>
            </div>
            <div class="function-card">
                <h4>Generator Functions</h4>
                <p>Functions that can be paused and resumed</p>
                <button onclick="demoGeneratorFunctions()">Run Example</button>
            </div>
            <div class="function-card">
                <h4>Async Functions</h4>
                <p>Functions that return promises and can use await</p>
                <button onclick="demoAsyncFunctions()">Run Example</button>
            </div>
            <div class="function-card">
                <h4>Function Parameters</h4>
                <p>Default parameters, rest parameters, and destructuring</p>
                <button onclick="demoFunctionParameters()">Run Example</button>
            </div>
        </div>

        <div id="output" class="output" style="display: none;"></div>
    </div>

    <script>
        // Function Declarations
        function demoFunctionDeclarations() {
            const output = document.getElementById('output');
            output.style.display = 'block';
            
            // Function declarations are hoisted
            console.log(hoistedFunction()); // "This works!"
            
            function hoistedFunction() {
                return "This works!";
            }
            
            // Function declaration with multiple parameters
            function calculateArea(width, height) {
                return width * height;
            }
            
            // Function declaration with default parameters
            function createUser(name, age = 18, isActive = true) {
                return {
                    name,
                    age,
                    isActive,
                    createdAt: new Date()
                };
            }
            
            const area = calculateArea(10, 5);
            const user = createUser("John", 30, true);
            
            output.textContent = `Function Declarations Demo:

1. Hoisted function call: ${hoistedFunction()}
2. Calculate area (10, 5): ${area}
3. Create user: ${JSON.stringify(user, null, 2)}

Function declarations are hoisted and can be called before declaration.`;
        }

        // Function Expressions
        function demoFunctionExpressions() {
            const output = document.getElementById('output');
            output.style.display = 'block';
            
            // Function expression
            const greet = function(name) {
                return `Hello, ${name}!`;
            };
            
            // Named function expression
            const calculateArea = function area(width, height) {
                return width * height;
            };
            
            // Function expression with default parameters
            const createUser = function(name, age = 18, isActive = true) {
                return { name, age, isActive };
            };
            
            // Cannot be called before declaration
            // console.log(greet("World")); // ReferenceError
            
            const greeting = greet("World");
            const area = calculateArea(10, 5);
            const user = createUser("Jane", 25, false);
            
            output.textContent = `Function Expressions Demo:

1. Greet function: ${greeting}
2. Calculate area (10, 5): ${area}
3. Create user: ${JSON.stringify(user, null, 2)}

Function expressions are not hoisted and must be defined before use.`;
        }

        // Arrow Functions
        function demoArrowFunctions() {
            const output = document.getElementById('output');
            output.style.display = 'block';
            
            // Basic arrow function
            const greet = (name) => `Hello, ${name}!`;
            
            // Single parameter (parentheses optional)
            const square = x => x * x;
            
            // Multiple parameters
            const add = (a, b) => a + b;
            
            // Multiple statements
            const processUser = (user) => {
                const processed = { ...user };
                processed.lastLogin = new Date();
                return processed;
            };
            
            // Returning object literal
            const createPoint = (x, y) => ({ x, y });
            
            // Arrow function with default parameters
            const greetWithDefault = (name = "Guest") => `Hello, ${name}!`;
            
            const greeting = greet("Alice");
            const squared = square(5);
            const sum = add(3, 4);
            const user = { name: "Bob", age: 30 };
            const processedUser = processUser(user);
            const point = createPoint(10, 20);
            const defaultGreeting = greetWithDefault();
            
            output.textContent = `Arrow Functions Demo:

1. Basic arrow function: ${greeting}
2. Square function: ${squared}
3. Add function: ${sum}
4. Process user: ${JSON.stringify(processedUser, null, 2)}
5. Create point: ${JSON.stringify(point, null, 2)}
6. Default greeting: ${defaultGreeting}

Arrow functions provide concise syntax and lexical this binding.`;
        }

        // Generator Functions
        function demoGeneratorFunctions() {
            const output = document.getElementById('output');
            output.style.display = 'block';
            
            // Generator function declaration
            function* numberGenerator() {
                yield 1;
                yield 2;
                yield 3;
            }
            
            // Generator function expression
            const numberGenerator2 = function*() {
                yield 4;
                yield 5;
                yield 6;
            };
            
            // Using generator
            const gen = numberGenerator();
            const gen2 = numberGenerator2();
            
            const results1 = [];
            const results2 = [];
            
            for (let i = 0; i < 3; i++) {
                results1.push(gen.next().value);
                results2.push(gen2.next().value);
            }
            
            // Generator with parameters
            function* fibonacci() {
                let a = 0, b = 1;
                while (true) {
                    yield a;
                    [a, b] = [b, a + b];
                }
            }
            
            const fib = fibonacci();
            const fibResults = [];
            for (let i = 0; i < 8; i++) {
                fibResults.push(fib.next().value);
            }
            
            output.textContent = `Generator Functions Demo:

1. Number generator 1: [${results1.join(', ')}]
2. Number generator 2: [${results2.join(', ')}]
3. Fibonacci sequence: [${fibResults.join(', ')}]

Generators can be paused and resumed, yielding multiple values.`;
        }

        // Async Functions
        function demoAsyncFunctions() {
            const output = document.getElementById('output');
            output.style.display = 'block';
            
            // Mock async function
            function mockFetch(url) {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        resolve({ url, data: `Data from ${url}` });
                    }, 100);
                });
            }
            
            // Async function declaration
            async function fetchUserData(userId) {
                try {
                    const response = await mockFetch(`/api/users/${userId}`);
                    return response.data;
                } catch (error) {
                    console.error('Error fetching user data:', error);
                    throw error;
                }
            }
            
            // Async function expression
            const fetchUserData2 = async function(userId) {
                const response = await mockFetch(`/api/users/${userId}`);
                return response.data;
            };
            
            // Async arrow function
            const fetchUserData3 = async (userId) => {
                const response = await mockFetch(`/api/users/${userId}`);
                return response.data;
            };
            
            // Using async functions
            fetchUserData(123)
                .then(userData => {
                    output.textContent = `Async Functions Demo:

1. Async function declaration: ${userData}
2. Async function expression: ${userData}
3. Async arrow function: ${userData}

Async functions return promises and can use the await keyword.`;
                })
                .catch(error => {
                    output.textContent = `Error: ${error.message}`;
                });
        }

        // Function Parameters
        function demoFunctionParameters() {
            const output = document.getElementById('output');
            output.style.display = 'block';
            
            // Default parameters
            function greet(name = "Guest", greeting = "Hello") {
                return `${greeting}, ${name}!`;
            }
            
            // Rest parameters
            function sum(...numbers) {
                return numbers.reduce((total, num) => total + num, 0);
            }
            
            // Destructuring parameters
            function displayUser({ name, age, email }) {
                return `Name: ${name}, Age: ${age}, Email: ${email}`;
            }
            
            // Array destructuring
            function processCoordinates([x, y, z = 0]) {
                return { x, y, z, distance: Math.sqrt(x*x + y*y + z*z) };
            }
            
            // Nested destructuring
            function processOrder({ customer: { name, email }, items, total }) {
                return {
                    customerName: name,
                    customerEmail: email,
                    itemCount: items.length,
                    total
                };
            }
            
            const greeting1 = greet("John");
            const greeting2 = greet("Jane", "Hi");
            const total = sum(1, 2, 3, 4, 5);
            const user = { name: "Alice", age: 30, email: "alice@example.com" };
            const userInfo = displayUser(user);
            const coords = processCoordinates([3, 4]);
            const order = {
                customer: { name: "Bob", email: "bob@example.com" },
                items: ["item1", "item2"],
                total: 100
            };
            const orderInfo = processOrder(order);
            
            output.textContent = `Function Parameters Demo:

1. Default parameters: ${greeting1}
2. Custom greeting: ${greeting2}
3. Rest parameters sum: ${total}
4. Destructuring user: ${userInfo}
5. Array destructuring: ${JSON.stringify(coords, null, 2)}
6. Nested destructuring: ${JSON.stringify(orderInfo, null, 2)}

Functions support various parameter patterns for flexibility.`;
        }
    </script>
</body>
</html>

