<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Build Systems Examples - Level 9</title>
    <style>
        :root {
            --color-primary: #3b82f6;
            --color-secondary: #6b7280;
            --color-success: #10b981;
            --color-warning: #f59e0b;
            --color-error: #ef4444;
            --color-gray-50: #f9fafb;
            --color-gray-100: #f3f4f6;
            --color-gray-200: #e5e7eb;
            --color-gray-300: #d1d5db;
            --color-gray-600: #4b5563;
            --color-gray-700: #374151;
            --color-gray-800: #1f2937;
            --color-gray-900: #111827;
            --font-family: 'Inter', system-ui, sans-serif;
            --border-radius: 0.375rem;
            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family);
            line-height: 1.6;
            color: var(--color-gray-800);
            background: var(--color-gray-50);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--color-gray-900);
            margin-bottom: 1rem;
        }

        .header p {
            font-size: 1.125rem;
            color: var(--color-gray-600);
        }

        .section {
            background: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
        }

        .section h2 {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--color-gray-900);
            margin-bottom: 1.5rem;
            border-bottom: 2px solid var(--color-primary);
            padding-bottom: 0.5rem;
        }

        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .demo-card {
            background: var(--color-gray-50);
            border: 1px solid var(--color-gray-200);
            border-radius: var(--border-radius);
            padding: 1.5rem;
        }

        .demo-card h3 {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--color-gray-900);
            margin-bottom: 1rem;
        }

        .code-block {
            background: var(--color-gray-800);
            color: #e2e8f0;
            padding: 1rem;
            border-radius: var(--border-radius);
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.875rem;
            overflow-x: auto;
            margin: 1rem 0;
        }

        .button {
            background: var(--color-primary);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 500;
            transition: background 0.2s;
            margin: 0.25rem;
        }

        .button:hover {
            background: #2563eb;
        }

        .button.secondary {
            background: var(--color-secondary);
        }

        .button.secondary:hover {
            background: #4b5563;
        }

        .button.success {
            background: var(--color-success);
        }

        .button.warning {
            background: var(--color-warning);
        }

        .button.error {
            background: var(--color-error);
        }

        .status {
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            font-size: 0.875rem;
            font-weight: 500;
            margin: 0.5rem 0;
        }

        .status.success {
            background: #dcfce7;
            color: #166534;
            border: 1px solid #bbf7d0;
        }

        .status.warning {
            background: #fef3c7;
            color: #92400e;
            border: 1px solid #fde68a;
        }

        .status.error {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #fecaca;
        }

        .status.info {
            background: #dbeafe;
            color: #1e40af;
            border: 1px solid #93c5fd;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--color-gray-200);
            border-radius: 4px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--color-primary), var(--color-success));
            transition: width 0.3s ease;
        }

        .metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            background: white;
            border: 1px solid var(--color-gray-200);
            border-radius: var(--border-radius);
            margin: 0.5rem 0;
        }

        .metric-label {
            font-weight: 500;
            color: var(--color-gray-700);
        }

        .metric-value {
            font-weight: 600;
            color: var(--color-gray-900);
        }

        .interactive-demo {
            background: white;
            border: 1px solid var(--color-gray-200);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .demo-controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .demo-control {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .demo-control label {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--color-gray-700);
        }

        .demo-control select,
        .demo-control input {
            padding: 0.5rem;
            border: 1px solid var(--color-gray-300);
            border-radius: var(--border-radius);
            font-size: 0.875rem;
        }

        .demo-result {
            background: var(--color-gray-50);
            border: 1px solid var(--color-gray-200);
            border-radius: var(--border-radius);
            padding: 1rem;
            margin-top: 1rem;
        }

        .log {
            background: var(--color-gray-800);
            color: #e2e8f0;
            padding: 1rem;
            border-radius: var(--border-radius);
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.875rem;
            max-height: 200px;
            overflow-y: auto;
            margin: 1rem 0;
        }

        .log-entry {
            margin: 0.25rem 0;
            padding: 0.25rem 0;
        }

        .log-entry.info {
            color: #60a5fa;
        }

        .log-entry.success {
            color: #34d399;
        }

        .log-entry.warning {
            color: #fbbf24;
        }

        .log-entry.error {
            color: #f87171;
        }

        .tabs {
            display: flex;
            border-bottom: 1px solid var(--color-gray-200);
            margin-bottom: 1rem;
        }

        .tab {
            padding: 0.75rem 1.5rem;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--color-gray-600);
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
        }

        .tab.active {
            color: var(--color-primary);
            border-bottom-color: var(--color-primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid var(--color-gray-200);
        }

        .comparison-table th {
            background: var(--color-gray-50);
            font-weight: 600;
            color: var(--color-gray-900);
        }

        .comparison-table tr:hover {
            background: var(--color-gray-50);
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .badge.excellent {
            background: #dcfce7;
            color: #166534;
        }

        .badge.good {
            background: #dbeafe;
            color: #1e40af;
        }

        .badge.average {
            background: #fef3c7;
            color: #92400e;
        }

        .badge.poor {
            background: #fee2e2;
            color: #991b1b;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .demo-grid {
                grid-template-columns: 1fr;
            }

            .demo-controls {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Build Systems Examples</h1>
            <p>Interactive demonstrations of modern build tools, optimization techniques, and developer experience features</p>
        </div>

        <!-- Build System Comparison -->
        <div class="section">
            <h2>Build System Comparison</h2>
            <p>Compare different build tools and their characteristics:</p>
            
            <div class="tabs">
                <button class="tab active" onclick="showTab('comparison')">Comparison</button>
                <button class="tab" onclick="showTab('performance')">Performance</button>
                <button class="tab" onclick="showTab('features')">Features</button>
            </div>

            <div id="comparison" class="tab-content active">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Feature</th>
                            <th>Vite</th>
                            <th>Webpack</th>
                            <th>Rollup</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Dev Server Speed</td>
                            <td><span class="badge excellent">Excellent</span></td>
                            <td><span class="badge average">Average</span></td>
                            <td><span class="badge good">Good</span></td>
                        </tr>
                        <tr>
                            <td>Build Speed</td>
                            <td><span class="badge excellent">Excellent</span></td>
                            <td><span class="badge average">Average</span></td>
                            <td><span class="badge excellent">Excellent</span></td>
                        </tr>
                        <tr>
                            <td>Bundle Size</td>
                            <td><span class="badge good">Good</span></td>
                            <td><span class="badge average">Average</span></td>
                            <td><span class="badge excellent">Excellent</span></td>
                        </tr>
                        <tr>
                            <td>Tree Shaking</td>
                            <td><span class="badge good">Good</span></td>
                            <td><span class="badge average">Average</span></td>
                            <td><span class="badge excellent">Excellent</span></td>
                        </tr>
                        <tr>
                            <td>Ecosystem</td>
                            <td><span class="badge good">Good</span></td>
                            <td><span class="badge excellent">Excellent</span></td>
                            <td><span class="badge average">Average</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div id="performance" class="tab-content">
                <div class="demo-grid">
                    <div class="demo-card">
                        <h3>Build Time Comparison</h3>
                        <div class="metric">
                            <span class="metric-label">Vite</span>
                            <span class="metric-value">2.3s</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Webpack</span>
                            <span class="metric-value">8.7s</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Rollup</span>
                            <span class="metric-value">3.1s</span>
                        </div>
                    </div>
                    <div class="demo-card">
                        <h3>Bundle Size Comparison</h3>
                        <div class="metric">
                            <span class="metric-label">Vite</span>
                            <span class="metric-value">245KB</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Webpack</span>
                            <span class="metric-value">312KB</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Rollup</span>
                            <span class="metric-value">198KB</span>
                        </div>
                    </div>
                </div>
            </div>

            <div id="features" class="tab-content">
                <div class="demo-grid">
                    <div class="demo-card">
                        <h3>Vite Features</h3>
                        <ul style="list-style: none; padding: 0;">
                            <li>✅ Native ES modules</li>
                            <li>✅ Lightning-fast HMR</li>
                            <li>✅ Built-in TypeScript</li>
                            <li>✅ Zero-config setup</li>
                            <li>✅ Optimized production builds</li>
                        </ul>
                    </div>
                    <div class="demo-card">
                        <h3>Webpack Features</h3>
                        <ul style="list-style: none; padding: 0;">
                            <li>✅ Mature ecosystem</li>
                            <li>✅ Extensive plugins</li>
                            <li>✅ Code splitting</li>
                            <li>✅ Asset management</li>
                            <li>✅ Hot module replacement</li>
                        </ul>
                    </div>
                    <div class="demo-card">
                        <h3>Rollup Features</h3>
                        <ul style="list-style: none; padding: 0;">
                            <li>✅ Excellent tree shaking</li>
                            <li>✅ Small bundle sizes</li>
                            <li>✅ Library development</li>
                            <li>✅ ES module focus</li>
                            <li>✅ Plugin system</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Build Optimization Demo -->
        <div class="section">
            <h2>Build Optimization Techniques</h2>
            <p>Interactive demonstration of various optimization strategies:</p>

            <div class="interactive-demo">
                <h3>Code Splitting Simulation</h3>
                <div class="demo-controls">
                    <div class="demo-control">
                        <label for="splittingStrategy">Splitting Strategy:</label>
                        <select id="splittingStrategy" onchange="updateSplitting()">
                            <option value="none">No Splitting</option>
                            <option value="route">Route-based</option>
                            <option value="vendor">Vendor-based</option>
                            <option value="dynamic">Dynamic Imports</option>
                        </select>
                    </div>
                    <div class="demo-control">
                        <label for="bundleSize">Bundle Size:</label>
                        <input type="range" id="bundleSize" min="100" max="1000" value="500" onchange="updateBundleSize()">
                        <span id="bundleSizeValue">500KB</span>
                    </div>
                </div>

                <div class="demo-result">
                    <div id="splittingResult">
                        <div class="status info">Select a splitting strategy to see the results</div>
                    </div>
                </div>
            </div>

            <div class="interactive-demo">
                <h3>Tree Shaking Demo</h3>
                <div class="code-block" id="treeShakingCode">
// math.js
export const add = (a, b) => a + b;
export const subtract = (a, b) => a - b;
export const multiply = (a, b) => a * b;
export const divide = (a, b) => a / b;

// main.js
import { add, subtract } from './math.js';
// multiply and divide will be tree-shaken out
                </div>
                <button class="button" onclick="simulateTreeShaking()">Simulate Tree Shaking</button>
                <div id="treeShakingResult" class="demo-result" style="display: none;">
                    <div class="status success">Tree shaking removed unused exports: multiply, divide</div>
                    <div class="status info">Bundle size reduced by 40%</div>
                </div>
            </div>
        </div>

        <!-- Build Process Simulation -->
        <div class="section">
            <h2>Build Process Simulation</h2>
            <p>Watch a simulated build process with different tools:</p>

            <div class="interactive-demo">
                <h3>Build Tool Selector</h3>
                <div class="demo-controls">
                    <button class="button" onclick="startBuild('vite')">Vite Build</button>
                    <button class="button" onclick="startBuild('webpack')">Webpack Build</button>
                    <button class="button" onclick="startBuild('rollup')">Rollup Build</button>
                    <button class="button secondary" onclick="clearLog()">Clear Log</button>
                </div>

                <div class="log" id="buildLog">
                    <div class="log-entry info">Select a build tool to start the simulation</div>
                </div>

                <div class="progress-bar">
                    <div class="progress-fill" id="buildProgress" style="width: 0%"></div>
                </div>
            </div>
        </div>

        <!-- Performance Monitoring -->
        <div class="section">
            <h2>Performance Monitoring</h2>
            <p>Real-time performance metrics and monitoring:</p>

            <div class="demo-grid">
                <div class="demo-card">
                    <h3>Build Metrics</h3>
                    <div class="metric">
                        <span class="metric-label">Build Time</span>
                        <span class="metric-value" id="buildTime">0ms</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Bundle Size</span>
                        <span class="metric-value" id="bundleSizeMetric">0KB</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Chunks</span>
                        <span class="metric-value" id="chunkCount">0</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Modules</span>
                        <span class="metric-value" id="moduleCount">0</span>
                    </div>
                </div>

                <div class="demo-card">
                    <h3>Performance Score</h3>
                    <div class="progress-bar">
                        <div class="progress-fill" id="performanceScore" style="width: 0%"></div>
                    </div>
                    <div class="status info" id="performanceStatus">Run a build to see performance metrics</div>
                </div>
            </div>
        </div>

        <!-- Developer Experience Features -->
        <div class="section">
            <h2>Developer Experience Features</h2>
            <p>Interactive demonstration of DX features:</p>

            <div class="interactive-demo">
                <h3>Hot Module Replacement (HMR)</h3>
                <div class="demo-controls">
                    <button class="button" onclick="simulateHMR()">Simulate HMR</button>
                    <button class="button secondary" onclick="resetHMR()">Reset</button>
                </div>

                <div class="demo-result">
                    <div id="hmrStatus" class="status info">HMR is ready. Click "Simulate HMR" to see it in action.</div>
                    <div id="hmrCounter" style="font-size: 2rem; text-align: center; margin: 1rem 0; color: var(--color-primary);">0</div>
                </div>
            </div>

            <div class="interactive-demo">
                <h3>Source Maps</h3>
                <div class="demo-controls">
                    <button class="button" onclick="toggleSourceMaps()">Toggle Source Maps</button>
                    <span id="sourceMapStatus" class="status info">Source maps: Enabled</span>
                </div>

                <div class="code-block" id="sourceMapDemo">
// Original source code
function calculateTotal(items) {
  return items.reduce((sum, item) => sum + item.price, 0);
}

// Minified code (what the browser sees)
function a(b){return b.reduce((c,d)=>c+d.price,0)}
                </div>
            </div>
        </div>

        <!-- Configuration Examples -->
        <div class="section">
            <h2>Configuration Examples</h2>
            <p>Common configuration patterns for different build tools:</p>

            <div class="tabs">
                <button class="tab active" onclick="showConfigTab('vite')">Vite</button>
                <button class="tab" onclick="showConfigTab('webpack')">Webpack</button>
                <button class="tab" onclick="showConfigTab('rollup')">Rollup</button>
            </div>

            <div id="vite-config" class="tab-content active">
                <h3>Vite Configuration</h3>
                <div class="code-block">
// vite.config.js
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [react()],
  server: {
    port: 3000,
    open: true,
    hmr: {
      overlay: true
    }
  },
  build: {
    outDir: 'dist',
    sourcemap: true,
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['react', 'react-dom']
        }
      }
    }
  }
});
                </div>
            </div>

            <div id="webpack-config" class="tab-content">
                <h3>Webpack Configuration</h3>
                <div class="code-block">
// webpack.config.js
const path = require('path');
const HtmlWebpackPlugin = require('html-webpack-plugin');

module.exports = {
  entry: './src/index.js',
  output: {
    path: path.resolve(__dirname, 'dist'),
    filename: '[name].[contenthash].js'
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        use: 'babel-loader'
      }
    ]
  },
  plugins: [
    new HtmlWebpackPlugin({
      template: './src/index.html'
    })
  ],
  optimization: {
    splitChunks: {
      chunks: 'all'
    }
  }
};
                </div>
            </div>

            <div id="rollup-config" class="tab-content">
                <h3>Rollup Configuration</h3>
                <div class="code-block">
// rollup.config.js
import resolve from '@rollup/plugin-node-resolve';
import commonjs from '@rollup/plugin-commonjs';

export default {
  input: 'src/index.js',
  output: {
    file: 'dist/index.js',
    format: 'esm'
  },
  plugins: [
    resolve(),
    commonjs()
  ],
  external: ['react', 'react-dom']
};
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab functionality
        function showTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        function showConfigTab(tool) {
            // Hide all config contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected config
            document.getElementById(tool + '-config').classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        // Bundle size update
        function updateBundleSize() {
            const slider = document.getElementById('bundleSize');
            const value = document.getElementById('bundleSizeValue');
            value.textContent = slider.value + 'KB';
        }

        // Code splitting simulation
        function updateSplitting() {
            const strategy = document.getElementById('splittingStrategy').value;
            const result = document.getElementById('splittingResult');
            
            let message = '';
            let statusClass = 'info';
            
            switch(strategy) {
                case 'none':
                    message = 'No code splitting applied. Single bundle will be large.';
                    statusClass = 'warning';
                    break;
                case 'route':
                    message = 'Route-based splitting applied. Each route will have its own chunk.';
                    statusClass = 'success';
                    break;
                case 'vendor':
                    message = 'Vendor splitting applied. Third-party libraries separated.';
                    statusClass = 'success';
                    break;
                case 'dynamic':
                    message = 'Dynamic imports applied. Code loaded on demand.';
                    statusClass = 'success';
                    break;
            }
            
            result.innerHTML = `<div class="status ${statusClass}">${message}</div>`;
        }

        // Tree shaking simulation
        function simulateTreeShaking() {
            const result = document.getElementById('treeShakingResult');
            result.style.display = 'block';
        }

        // Build simulation
        function startBuild(tool) {
            const log = document.getElementById('buildLog');
            const progress = document.getElementById('buildProgress');
            
            // Clear previous log
            log.innerHTML = '';
            
            // Build steps for different tools
            const steps = {
                vite: [
                    { message: 'Starting Vite build...', type: 'info' },
                    { message: 'Resolving dependencies...', type: 'info' },
                    { message: 'Transforming modules...', type: 'info' },
                    { message: 'Generating chunks...', type: 'info' },
                    { message: 'Optimizing bundle...', type: 'info' },
                    { message: 'Build completed in 2.3s', type: 'success' }
                ],
                webpack: [
                    { message: 'Starting Webpack build...', type: 'info' },
                    { message: 'Loading configuration...', type: 'info' },
                    { message: 'Resolving modules...', type: 'info' },
                    { message: 'Building dependency graph...', type: 'info' },
                    { message: 'Sealing and optimizing...', type: 'info' },
                    { message: 'Generating assets...', type: 'info' },
                    { message: 'Build completed in 8.7s', type: 'success' }
                ],
                rollup: [
                    { message: 'Starting Rollup build...', type: 'info' },
                    { message: 'Loading entry point...', type: 'info' },
                    { message: 'Tree shaking...', type: 'info' },
                    { message: 'Generating bundle...', type: 'info' },
                    { message: 'Optimizing output...', type: 'info' },
                    { message: 'Build completed in 3.1s', type: 'success' }
                ]
            };
            
            const toolSteps = steps[tool];
            let currentStep = 0;
            
            const interval = setInterval(() => {
                if (currentStep < toolSteps.length) {
                    const step = toolSteps[currentStep];
                    const logEntry = document.createElement('div');
                    logEntry.className = `log-entry ${step.type}`;
                    logEntry.textContent = step.message;
                    log.appendChild(logEntry);
                    
                    // Update progress
                    const progressPercent = ((currentStep + 1) / toolSteps.length) * 100;
                    progress.style.width = progressPercent + '%';
                    
                    currentStep++;
                } else {
                    clearInterval(interval);
                    updateBuildMetrics(tool);
                }
            }, 800);
        }

        // Update build metrics
        function updateBuildMetrics(tool) {
            const metrics = {
                vite: { time: '2.3s', size: '245KB', chunks: 3, modules: 45 },
                webpack: { time: '8.7s', size: '312KB', chunks: 5, modules: 67 },
                rollup: { time: '3.1s', size: '198KB', chunks: 1, modules: 23 }
            };
            
            const metric = metrics[tool];
            document.getElementById('buildTime').textContent = metric.time;
            document.getElementById('bundleSizeMetric').textContent = metric.size;
            document.getElementById('chunkCount').textContent = metric.chunks;
            document.getElementById('moduleCount').textContent = metric.modules;
            
            // Update performance score
            const scores = { vite: 95, webpack: 75, rollup: 90 };
            const score = scores[tool];
            document.getElementById('performanceScore').style.width = score + '%';
            document.getElementById('performanceStatus').textContent = `Performance Score: ${score}/100`;
            document.getElementById('performanceStatus').className = `status ${score >= 90 ? 'success' : score >= 70 ? 'warning' : 'error'}`;
        }

        // Clear log
        function clearLog() {
            document.getElementById('buildLog').innerHTML = '<div class="log-entry info">Log cleared</div>';
            document.getElementById('buildProgress').style.width = '0%';
        }

        // HMR simulation
        let hmrCounter = 0;
        function simulateHMR() {
            const status = document.getElementById('hmrStatus');
            const counter = document.getElementById('hmrCounter');
            
            status.textContent = 'HMR: Module updated successfully!';
            status.className = 'status success';
            
            hmrCounter++;
            counter.textContent = hmrCounter;
            
            // Simulate HMR delay
            setTimeout(() => {
                status.textContent = 'HMR: Ready for next update';
                status.className = 'status info';
            }, 2000);
        }

        function resetHMR() {
            document.getElementById('hmrStatus').textContent = 'HMR is ready. Click "Simulate HMR" to see it in action.';
            document.getElementById('hmrStatus').className = 'status info';
            document.getElementById('hmrCounter').textContent = '0';
            hmrCounter = 0;
        }

        // Source maps toggle
        let sourceMapsEnabled = true;
        function toggleSourceMaps() {
            sourceMapsEnabled = !sourceMapsEnabled;
            const status = document.getElementById('sourceMapStatus');
            const demo = document.getElementById('sourceMapDemo');
            
            if (sourceMapsEnabled) {
                status.textContent = 'Source maps: Enabled';
                status.className = 'status success';
                demo.innerHTML = `// Original source code
function calculateTotal(items) {
  return items.reduce((sum, item) => sum + item.price, 0);
}

// Minified code (what the browser sees)
function a(b){return b.reduce((c,d)=>c+d.price,0)}`;
            } else {
                status.textContent = 'Source maps: Disabled';
                status.className = 'status warning';
                demo.innerHTML = `// Only minified code available
function a(b){return b.reduce((c,d)=>c+d.price,0)}

// No source mapping - debugging will be difficult`;
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateBundleSize();
            updateSplitting();
        });
    </script>
</body>
</html>
