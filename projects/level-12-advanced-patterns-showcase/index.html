<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced React Patterns Showcase</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1>Advanced React Patterns Showcase</h1>
                <p>Demonstrating HOCs, Render Props, Compound Components, Custom Hooks, and Performance Optimization</p>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="navigation">
            <div class="nav-content">
                <button class="nav-btn active" data-section="hoc">HOCs</button>
                <button class="nav-btn" data-section="render-props">Render Props</button>
                <button class="nav-btn" data-section="compound">Compound</button>
                <button class="nav-btn" data-section="hooks">Custom Hooks</button>
                <button class="nav-btn" data-section="performance">Performance</button>
                <button class="nav-btn" data-section="errors">Error Boundaries</button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main">
            <!-- HOC Section -->
            <section id="hoc" class="section active">
                <h2>Higher-Order Components (HOCs)</h2>
                <p>HOCs are functions that take a component and return a new component with additional functionality.</p>
                
                <div class="demo-grid">
                    <div class="demo-card">
                        <h3>withLoading HOC</h3>
                        <div id="loadingDemo" class="demo-content">
                            <button class="btn" onclick="toggleLoading()">Toggle Loading</button>
                            <div id="loadingContent"></div>
                        </div>
                    </div>

                    <div class="demo-card">
                        <h3>withErrorHandling HOC</h3>
                        <div id="errorDemo" class="demo-content">
                            <button class="btn btn-danger" onclick="triggerError()">Trigger Error</button>
                            <div id="errorContent"></div>
                        </div>
                    </div>

                    <div class="demo-card">
                        <h3>withData HOC</h3>
                        <div id="dataDemo" class="demo-content">
                            <button class="btn" onclick="fetchData()">Fetch Data</button>
                            <div id="dataContent"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Render Props Section -->
            <section id="render-props" class="section">
                <h2>Render Props Pattern</h2>
                <p>Render Props is a pattern where a component accepts a function as a prop and calls it to determine what to render.</p>
                
                <div class="demo-grid">
                    <div class="demo-card">
                        <h3>Mouse Tracker</h3>
                        <div id="mouseTracker" class="demo-content">
                            <div id="mouseArea" class="mouse-area">
                                <div id="mousePosition" class="mouse-position">Mouse: (0, 0)</div>
                            </div>
                        </div>
                    </div>

                    <div class="demo-card">
                        <h3>Data Provider</h3>
                        <div id="dataProvider" class="demo-content">
                            <button class="btn" onclick="loadData()">Load Data</button>
                            <div id="providerContent"></div>
                        </div>
                    </div>

                    <div class="demo-card">
                        <h3>Window Size</h3>
                        <div id="windowSize" class="demo-content">
                            <div id="sizeInfo"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Compound Components Section -->
            <section id="compound" class="section">
                <h2>Compound Components</h2>
                <p>Compound Components are a pattern where multiple components work together to form a cohesive interface.</p>
                
                <div class="demo-grid">
                    <div class="demo-card">
                        <h3>Tab System</h3>
                        <div id="tabsDemo" class="demo-content">
                            <div class="tabs">
                                <div class="tab-list">
                                    <button class="tab active" onclick="switchTab('tab1')">Tab 1</button>
                                    <button class="tab" onclick="switchTab('tab2')">Tab 2</button>
                                    <button class="tab" onclick="switchTab('tab3')">Tab 3</button>
                                </div>
                                <div class="tab-panels">
                                    <div id="tab1" class="tab-panel active">
                                        <h4>Tab 1 Content</h4>
                                        <p>This is the content for the first tab.</p>
                                    </div>
                                    <div id="tab2" class="tab-panel">
                                        <h4>Tab 2 Content</h4>
                                        <p>This is the content for the second tab.</p>
                                    </div>
                                    <div id="tab3" class="tab-panel">
                                        <h4>Tab 3 Content</h4>
                                        <p>This is the content for the third tab.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="demo-card">
                        <h3>Modal System</h3>
                        <div id="modalDemo" class="demo-content">
                            <button class="btn" onclick="openModal()">Open Modal</button>
                            <div id="modal" class="modal-overlay" style="display: none;">
                                <div class="modal">
                                    <button class="modal-close" onclick="closeModal()">&times;</button>
                                    <h3>Modal Title</h3>
                                    <p>This is a modal dialog created with compound components.</p>
                                    <div class="modal-actions">
                                        <button class="btn" onclick="closeModal()">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Custom Hooks Section -->
            <section id="hooks" class="section">
                <h2>Custom Hooks</h2>
                <p>Custom hooks allow you to extract component logic into reusable functions.</p>
                
                <div class="demo-grid">
                    <div class="demo-card">
                        <h3>useCounter Hook</h3>
                        <div id="counterDemo" class="demo-content">
                            <div class="counter-display">
                                <span id="counterValue">0</span>
                            </div>
                            <div class="counter-controls">
                                <button class="btn btn-secondary" onclick="decrementCounter()">-</button>
                                <button class="btn btn-success" onclick="incrementCounter()">+</button>
                                <button class="btn btn-warning" onclick="resetCounter()">Reset</button>
                            </div>
                        </div>
                    </div>

                    <div class="demo-card">
                        <h3>useLocalStorage Hook</h3>
                        <div id="localStorageDemo" class="demo-content">
                            <input type="text" id="storageInput" placeholder="Enter text to store">
                            <button class="btn" onclick="saveToStorage()">Save</button>
                            <button class="btn btn-secondary" onclick="loadFromStorage()">Load</button>
                            <div id="storageValue" class="storage-value"></div>
                        </div>
                    </div>

                    <div class="demo-card">
                        <h3>useDebounce Hook</h3>
                        <div id="debounceDemo" class="demo-content">
                            <input type="text" id="debounceInput" placeholder="Type to see debounced value">
                            <div id="debounceValue" class="debounce-value">Debounced value: </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Performance Section -->
            <section id="performance" class="section">
                <h2>Performance Optimization</h2>
                <p>Techniques for optimizing React applications including memoization, virtual scrolling, and code splitting.</p>
                
                <div class="demo-grid">
                    <div class="demo-card">
                        <h3>Virtual Scrolling</h3>
                        <div id="virtualScrollDemo" class="demo-content">
                            <div class="virtual-controls">
                                <button class="btn" onclick="addVirtualItems()">Add Items</button>
                                <button class="btn btn-secondary" onclick="clearVirtualItems()">Clear</button>
                                <span id="virtualCount">Items: 0</span>
                            </div>
                            <div id="virtualList" class="virtual-list"></div>
                        </div>
                    </div>

                    <div class="demo-card">
                        <h3>Performance Metrics</h3>
                        <div id="performanceDemo" class="demo-content">
                            <div class="performance-metrics">
                                <div class="metric">
                                    <span>Render Count:</span>
                                    <span id="renderCount">0</span>
                                </div>
                                <div class="metric">
                                    <span>Last Render:</span>
                                    <span id="renderTime">0ms</span>
                                </div>
                                <div class="metric">
                                    <span>Memory:</span>
                                    <span id="memoryUsage">0MB</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="demo-card">
                        <h3>Memoization Demo</h3>
                        <div id="memoDemo" class="demo-content">
                            <button class="btn" onclick="toggleMemoization()">Toggle Memoization</button>
                            <div id="memoContent"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Error Boundaries Section -->
            <section id="errors" class="section">
                <h2>Error Boundaries</h2>
                <p>Error boundaries catch JavaScript errors anywhere in the component tree and display a fallback UI.</p>
                
                <div class="demo-grid">
                    <div class="demo-card">
                        <h3>Error Boundary Demo</h3>
                        <div id="errorBoundaryDemo" class="demo-content">
                            <button class="btn btn-danger" onclick="triggerBoundaryError()">Trigger Error</button>
                            <button class="btn btn-success" onclick="resetBoundaryError()">Reset</button>
                            <div id="boundaryContent">
                                <div class="safe-component">
                                    <h4>Safe Component</h4>
                                    <p>This component is protected by an error boundary.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="demo-card">
                        <h3>Error Recovery</h3>
                        <div id="errorRecoveryDemo" class="demo-content">
                            <button class="btn" onclick="simulateAsyncError()">Simulate Async Error</button>
                            <div id="recoveryContent"></div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>&copy; 2024 Advanced React Patterns Showcase. Built with modern React patterns and best practices.</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
