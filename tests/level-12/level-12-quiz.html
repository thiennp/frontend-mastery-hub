<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Level 12 Quiz - Advanced React Patterns</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .quiz-content {
            padding: 40px;
        }

        .question-counter {
            background: #f0f0f0;
            border-radius: 10px;
            height: 8px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .question-fill {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }

        .question {
            margin-bottom: 30px;
            padding: 25px;
            border: 2px solid #f0f0f0;
            border-radius: 12px;
            background: #fafafa;
            transition: all 0.3s ease;
        }

        .question:hover {
            border-color: #667eea;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.1);
        }

        .question-number {
            background: #667eea;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            font-size: 0.9rem;
        }

        .question h3 {
            display: inline-block;
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: #333;
        }

        .question p {
            margin-bottom: 20px;
            color: #666;
            font-size: 1rem;
        }

        .options {
            list-style: none;
        }

        .option {
            margin-bottom: 12px;
            padding: 15px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .option.selected {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .option.correct {
            border-color: #10b981;
            background: #f0fdf4;
        }

        .option.incorrect {
            border-color: #ef4444;
            background: #fef2f2;
        }

        .option input[type="radio"] {
            margin-right: 12px;
            transform: scale(1.2);
        }

        .option label {
            cursor: pointer;
            flex: 1;
            font-weight: 500;
        }

        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            margin: 15px 0;
            overflow-x: auto;
            border: 1px solid #333;
        }

        .code-block .keyword { color: #569cd6; }
        .code-block .string { color: #ce9178; }
        .code-block .comment { color: #6a9955; }
        .code-block .function { color: #dcdcaa; }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: #6b7280;
        }

        .btn-success {
            background: #10b981;
        }

        .results {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .score {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .score.excellent { color: #10b981; }
        .score.good { color: #f59e0b; }
        .score.needs-improvement { color: #ef4444; }

        .feedback {
            font-size: 1.2rem;
            margin-bottom: 30px;
            color: #666;
        }

        .timer {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .warning {
            background: #fef3c7;
            border: 1px solid #f59e0b;
            color: #92400e;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .question-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .difficulty {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .difficulty.easy { background: #d1fae5; color: #065f46; }
        .difficulty.medium { background: #fef3c7; color: #92400e; }
        .difficulty.hard { background: #fee2e2; color: #991b1b; }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .quiz-content {
                padding: 20px;
            }
            
            .question {
                padding: 20px;
            }

            .navigation {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="timer" id="timer">Time: 15:00</div>
    
    <div class="container">
        <div class="header">
            <h1>Level 12 Quiz</h1>
            <p>Advanced React Patterns - Quick Knowledge Check</p>
        </div>

        <div class="quiz-content">
            <div class="question-counter">
                <div class="question-fill" id="questionFill"></div>
            </div>

            <div class="warning">
                <strong>⚠️ Quiz Rules:</strong>
                <ul style="margin: 10px 0 0 20px;">
                    <li>You have 15 minutes to complete this quiz</li>
                    <li>Answer all 5 questions to get your score</li>
                    <li>You can navigate between questions</li>
                    <li>This quiz covers HOCs, Render Props, Compound Components, Custom Hooks, and Performance Optimization</li>
                </ul>
            </div>

            <div id="quizContainer">
                <!-- Questions will be dynamically loaded here -->
            </div>

            <div class="navigation" id="navigation">
                <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()" disabled>Previous</button>
                <span id="questionInfo">Question 1 of 5</span>
                <button class="btn" id="nextBtn" onclick="nextQuestion()">Next</button>
            </div>

            <div class="results" id="results">
                <div class="score" id="score">0/5</div>
                <div class="feedback" id="feedback"></div>
                <button class="btn" onclick="location.reload()">Retake Quiz</button>
            </div>
        </div>
    </div>

    <script>
        // Quiz data
        const quizData = [
            {
                id: 1,
                question: "What is the primary purpose of Higher-Order Components (HOCs)?",
                options: [
                    "To replace class components with function components",
                    "To share logic between components without changing their structure",
                    "To improve component performance by reducing re-renders",
                    "To create components that can only be used once"
                ],
                correct: 1,
                difficulty: "easy",
                explanation: "HOCs are functions that take a component and return a new component with additional functionality, allowing you to share logic between components without changing their structure."
            },
            {
                id: 2,
                question: "Which pattern allows a component to accept a function as a prop to determine what to render?",
                options: [
                    "Higher-Order Components",
                    "Render Props",
                    "Compound Components",
                    "Custom Hooks"
                ],
                correct: 1,
                difficulty: "easy",
                explanation: "Render Props is a pattern where a component accepts a function as a prop and calls it to determine what to render, providing a way to share code between components."
            },
            {
                id: 3,
                question: "What is the main advantage of using Compound Components?",
                options: [
                    "Better performance",
                    "Flexible and intuitive API for complex UI components",
                    "Smaller bundle size",
                    "Easier testing"
                ],
                correct: 1,
                difficulty: "medium",
                explanation: "Compound Components provide a flexible and intuitive API for complex UI components by allowing multiple components to work together to form a cohesive interface."
            },
            {
                id: 4,
                question: "When should you use React.memo for performance optimization?",
                options: [
                    "For all components",
                    "For components that receive the same props frequently",
                    "Only for class components",
                    "Never, as it causes more problems"
                ],
                correct: 1,
                difficulty: "medium",
                explanation: "React.memo should be used for components that receive the same props frequently, as it prevents unnecessary re-renders by doing a shallow comparison of props."
            },
            {
                id: 5,
                question: "What is the difference between useMemo and useCallback?",
                options: [
                    "useMemo memoizes values, useCallback memoizes functions",
                    "useMemo is for class components, useCallback is for function components",
                    "There is no difference, they are the same",
                    "useMemo is deprecated, use useCallback instead"
                ],
                correct: 0,
                difficulty: "hard",
                explanation: "useMemo memoizes the result of a computation (values), while useCallback memoizes the function itself. Both help prevent unnecessary recalculations and re-renders."
            }
        ];

        let currentQuestion = 0;
        let answers = new Array(quizData.length).fill(null);
        let timeLeft = 15 * 60; // 15 minutes in seconds
        let timer;

        // Initialize quiz
        function initQuiz() {
            renderQuestion();
            startTimer();
            updateNavigation();
        }

        // Render current question
        function renderQuestion() {
            const question = quizData[currentQuestion];
            const container = document.getElementById('quizContainer');
            
            container.innerHTML = `
                <div class="question">
                    <div class="question-info">
                        <span class="difficulty ${question.difficulty}">${question.difficulty.toUpperCase()}</span>
                        <span>Question ${currentQuestion + 1} of ${quizData.length}</span>
                    </div>
                    
                    <h3>${question.question}</h3>
                    
                    <ul class="options">
                        ${question.options.map((option, index) => `
                            <li class="option ${answers[currentQuestion] === index ? 'selected' : ''}" 
                                onclick="selectAnswer(${index})">
                                <input type="radio" name="question${currentQuestion}" 
                                       value="${index}" 
                                       ${answers[currentQuestion] === index ? 'checked' : ''}>
                                <label>${option}</label>
                            </li>
                        `).join('')}
                    </ul>
                </div>
            `;
        }

        // Select answer
        function selectAnswer(index) {
            answers[currentQuestion] = index;
            renderQuestion();
            updateNavigation();
        }

        // Next question
        function nextQuestion() {
            if (currentQuestion < quizData.length - 1) {
                currentQuestion++;
                renderQuestion();
                updateNavigation();
            } else {
                submitQuiz();
            }
        }

        // Previous question
        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                renderQuestion();
                updateNavigation();
            }
        }

        // Update navigation
        function updateNavigation() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const questionInfo = document.getElementById('questionInfo');
            
            prevBtn.disabled = currentQuestion === 0;
            
            if (currentQuestion === quizData.length - 1) {
                nextBtn.textContent = 'Submit Quiz';
                nextBtn.className = 'btn btn-success';
            } else {
                nextBtn.textContent = 'Next';
                nextBtn.className = 'btn';
            }
            
            questionInfo.textContent = `Question ${currentQuestion + 1} of ${quizData.length}`;
            
            // Update progress bar
            const progress = ((currentQuestion + 1) / quizData.length) * 100;
            document.getElementById('questionFill').style.width = `${progress}%`;
        }

        // Start timer
        function startTimer() {
            const timerElement = document.getElementById('timer');
            
            timer = setInterval(() => {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timerElement.textContent = `Time: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    submitQuiz();
                }
                
                timeLeft--;
            }, 1000);
        }

        // Submit quiz
        function submitQuiz() {
            clearInterval(timer);
            
            let score = 0;
            const results = [];
            
            quizData.forEach((question, index) => {
                const isCorrect = answers[index] === question.correct;
                if (isCorrect) score++;
                
                results.push({
                    question: question.question,
                    correct: question.correct,
                    selected: answers[index],
                    isCorrect: isCorrect,
                    explanation: question.explanation
                });
            });

            // Show results
            document.getElementById('quizContainer').style.display = 'none';
            document.getElementById('navigation').style.display = 'none';
            document.getElementById('results').style.display = 'block';
            
            const scoreElement = document.getElementById('score');
            const feedbackElement = document.getElementById('feedback');
            
            scoreElement.textContent = `${score}/${quizData.length}`;
            
            // Add score styling
            scoreElement.className = 'score';
            if (score >= 4) {
                scoreElement.classList.add('excellent');
                feedbackElement.textContent = 'Excellent! You have a solid understanding of advanced React patterns. You\'re ready to build complex, scalable React applications.';
            } else if (score >= 3) {
                scoreElement.classList.add('good');
                feedbackElement.textContent = 'Good job! You understand the basics of advanced React patterns but could benefit from more practice.';
            } else {
                scoreElement.classList.add('needs-improvement');
                feedbackElement.textContent = 'Keep studying! Focus on understanding HOCs, Render Props, Compound Components, Custom Hooks, and performance optimization.';
            }

            // Show detailed results
            const resultsContainer = document.createElement('div');
            resultsContainer.innerHTML = `
                <h3 style="margin-top: 30px; color: #333;">Detailed Results:</h3>
                ${results.map((result, index) => `
                    <div style="margin: 20px 0; padding: 15px; border: 1px solid #e0e0e0; border-radius: 8px; background: ${result.isCorrect ? '#f0fdf4' : '#fef2f2'};">
                        <h4 style="color: ${result.isCorrect ? '#10b981' : '#ef4444'}; margin-bottom: 10px;">
                            Question ${index + 1}: ${result.isCorrect ? 'Correct' : 'Incorrect'}
                        </h4>
                        <p style="margin-bottom: 10px;"><strong>Question:</strong> ${result.question}</p>
                        <p style="margin-bottom: 10px;"><strong>Your Answer:</strong> ${result.selected !== null ? result.selected + 1 : 'Not answered'}</p>
                        <p style="margin-bottom: 10px;"><strong>Correct Answer:</strong> ${result.correct + 1}</p>
                        <p style="color: #666;"><strong>Explanation:</strong> ${result.explanation}</p>
                    </div>
                `).join('')}
            `;
            
            document.getElementById('results').appendChild(resultsContainer);
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft' && currentQuestion > 0) {
                previousQuestion();
            } else if (e.key === 'ArrowRight' && currentQuestion < quizData.length - 1) {
                nextQuestion();
            } else if (e.key === 'Enter' && currentQuestion === quizData.length - 1) {
                submitQuiz();
            }
        });

        // Initialize quiz when page loads
        document.addEventListener('DOMContentLoaded', initQuiz);
    </script>
</body>
</html>
